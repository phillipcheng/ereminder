<?xml version="1.0" encoding="UTF-8"?>
<!-- 编辑使用 XMLSpy v2006 U (http://www.altova.com) 由 any (any) -->
<Tasks xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="C:\mydoc\myprojects\ereminder\Reminder\modules\shopping\src\main\resources\Task_2_0.xsd" 
rootVolume="999990" 
storeId="sina-stock-market-dzjy" 
productType="default">
	<!-- HS_A market allows rzrq since 2012/11/12 -->
	<PrdTask tryPattern="false">
		<baseBrowseTask enableJS="true" 
		taskName="market-dzjy" 
		dsm="hdfs">
			<param name="date"/>
			<param name="HasHeader" type="boolean" value="false"/>
			<startUrl value="http://vip.stock.finance.sina.com.cn/q/go.php/vInvestConsult/kind/dzjy/index.phtml?bdate=[date]&amp;edate=[date]&amp;num=20"/>
			<userAttribute name="id">
				<value value="date" fromScope="param"/>
			</userAttribute>
			<userAttribute name="stockid"> <!-- needed for the csv etl should be renamed into kid -->
				<value value="date" fromScope="param"/>
			</userAttribute>
			<userAttribute name="ColNum">
				<value value="9" toType="list" toEntryType="int"/>
			</userAttribute>
			<userAttribute name="data1">
				<value value="//table[@id='dataTable']/tbody/tr[count(td)>1]/td" toType="externalList" toEntryType="string"/>
			</userAttribute>
			<userAttribute name="RowCsvName">
				<value value="dzjy" toType="list" />
			</userAttribute>
			<csvtransform transformClass="org.cld.etl.csv.MultiRowTablesAsCSV" multipleOutput="true"/>
		</baseBrowseTask>
		<nextPage optional="true" value="//div[@class='pages']/a[last()]">
		</nextPage>
		<lastPageCondition operator="!=">
			<lhs value="//div[@class='pages']/a[last()]/@class"></lhs>
			<rhs value="page"></rhs>
		</lastPageCondition>
	</PrdTask>
</Tasks>
