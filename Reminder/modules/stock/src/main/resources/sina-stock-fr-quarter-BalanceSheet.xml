<?xml version="1.0" encoding="UTF-8"?>
<Tasks xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="C:\mydoc\myprojects\ereminder\Reminder\modules\shopping\src\main\resources\Task_2_0.xsd" 
	rootVolume="999990" 
	storeId="sina-stock-fr-quarter-BalanceSheet" 
	productType="default">
	<PrdTask>
		<baseBrowseTask
		startUrl="http://money.finance.sina.com.cn/corp/go.php/vFD_BalanceSheet/stockid/[stockid]/ctrl/[year]/displaytype/4.phtml" 
		enableJS="true" 
		taskName="balancesheet"
		dsm="hdfs">
			<param name="stockid"/>
			<param name="year"/>
			<param name="quarter"/>
			<userAttribute name="id">
				<value value="stockid + '_' + year + '_' + quarter" toType="string" fromType="expression"/>
			</userAttribute>
			<userAttribute name="quarterAvail" optional="true">
				<value value="count(//table[@id='BalanceSheetNewTable0']/tbody/tr[1]/td)" toType="int"/>
			</userAttribute>
			<userAttribute name="data" optional="true">
				<value value="quarterAvail>quarter? &quot;//table[@id='BalanceSheetNewTable0']/tbody/tr/td[&quot; + (quarterAvail + 1 - quarter) + &quot;]&quot; : null" toType="list" fromType="expression"/>
			</userAttribute>
			<pageVerify operator="!=">
				<lhs value="//table[@id='BalanceSheetNewTable0']/tbody/tr/td">
				</lhs>
				<rhs value="null">
				</rhs>
			</pageVerify>
			<csvtransform>org.cld.stock.sina.FinanceReportToCSV</csvtransform>
		</baseBrowseTask>
	</PrdTask>
</Tasks>
