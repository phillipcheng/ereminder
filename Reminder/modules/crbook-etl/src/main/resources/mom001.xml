<?xml version="1.0" encoding="UTF-8"?>
<!-- 编辑使用 XMLSpy v2006 U (http://www.altova.com) 由 any (any) -->
<Tasks xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="C:\mydoc\myprojects\ereminder\Reminder\modules\shopping\src\main\resources\Task_2_0.xsd" storeId="mom001" rootVolume="999999" productType="book">
	<CatTask isLeaf="false">
		<baseBrowseTask taskName="cat-0" isStart="true" enableJS="false">
			<startUrl value="http://www.mom001.com/"/>
			<userAttribute name="referer">
				<value fromType="string" value="http://www.mom001.com/"/>
			</userAttribute>
			<idUrlMapping>
				<Token name="prefix" value="http://www."/>
				<Token name="id" value="mom001"/>
				<Token name="suffix" value=".com/"/>
			</idUrlMapping>
			<itemName value="mom001"/>
		</baseBrowseTask>
		<subItemList isLeaf="true">
			<itemList value="//div[@class='sub-menu']/ul/li/a[not(contains(@href,'.html'))]"/>
			<name value="./text()"/>
		</subItemList>
		<totalPageNum value="1"/>
	</CatTask>
	<CatTask isLeaf="false">
		<baseBrowseTask taskName="cat2-1" enableJS="false">
			<startUrl value="http://lianhuanhua.mom001.com/groups/index.html">
				<pageVerify operator="!=">
					<lhs value="//ul[@id='taoshu']/li/a"/>
					<rhs value="null"/>
				</pageVerify>
			</startUrl>
			<idUrlMapping>
				<Token name="prefix" value="http://lianhuanhua.mom001.com/" type="string"/>
				<Token name="id" value="groups" type="string"/>
				<Token name="sep1" value="/index.html" type="string"/>
			</idUrlMapping>
		</baseBrowseTask>
		<subItemList>
			<itemList value="//ul[@id='taoshu']/li/a"/>
			<name value="./text()"/>
		</subItemList>
	</CatTask>
	<CatTask isLeaf="true">
		<baseBrowseTask taskName="cat2-2" enableJS="false">
			<startUrl value="http://lianhuanhua.mom001.com/groups/30_2.html">
				<sampleUrl>http://lianhuanhua.mom001.com/groups/30.html</sampleUrl>
			</startUrl>
			<idUrlMapping>
				<Token name="prefix" value="http://lianhuanhua.mom001.com/" type="string"/>
				<Token name="id" value="groups\/[0-9]+" type="regexp"/>
				<Token name="sep1" value="_" type="string"/>
				<Token name="pageNum" value="[0-9]+" type="regexp"/>
				<Token name="suffix" value=".html" type="string"/>
			</idUrlMapping>
			<idUrlMappingFirstPage>
				<Token name="prefix" value="http://lianhuanhua.mom001.com/" type="string"/>
				<Token name="id" value="groups\/[0-9]+" type="regexp"/>
				<Token name="suffix" value=".html" type="string"/>
			</idUrlMappingFirstPage>
			<itemName value="//div[@id='wap']/div[1]/div[1]/h1[1]/text()"/>
		</baseBrowseTask>
		<subItemList nextPage="//div[@class='pagebox']/span[last()]/a">
			<itemList value="//div[@class='mainC']/ul[@class='tw_3']/li/a[1]"/>
			<lastPageCondition operator="=">
				<lhs value="//span[@class='pagebox_pre_nolink']/text()"/>
				<rhs value="下一页"/>
			</lastPageCondition>
		</subItemList>
	</CatTask>
	<CatTask isLeaf="true">
		<baseBrowseTask taskName="cat1-1" enableJS="false">
			<startUrl value="http://lianhuanhua.mom001.com/mz/">
				<sampleUrl>http://lianhuanhua.mom001.com/sh/21_14.html</sampleUrl>
			</startUrl>
			<idUrlMapping>
				<Token name="prefix" value="http://lianhuanhua.mom001.com/" type="string"/>
				<Token name="id" value="[a-zA-Z]+" type="regexp"/>
				<Token name="sep1" value="/" type="string"/>
				<Token name="id2" value="[0-9]+" type="regexp"/>
				<Token name="sep2" value="_" type="string"/>
				<Token name="pageNum" value="[0-9]+" type="regexp"/>
				<Token name="suffix" value=".html" type="string"/>
			</idUrlMapping>
			<idUrlMappingFirstPage>
				<Token name="prefix" value="http://lianhuanhua.mom001.com/" type="string"/>
				<Token name="id" value="[a-z]+" type="regexp"/>
				<Token name="suffix" value="/" type="string"/>
			</idUrlMappingFirstPage>
			<itemName value="//div[@class='sub-menu']/ul/li/a[@class='on']/text()"/>
		</baseBrowseTask>
		<subItemList nextPage="//div[@class=&apos;pagebox&apos;]/span[last()]/a">
			<itemList value="//div[@class=&apos;mainC&apos;]/ul[@class=&apos;tw_3&apos;]/li/a[1]"/>
			<lastPageCondition operator="=">
				<lhs value="//span[@class='pagebox_pre_nolink']/text()"/>
				<rhs value="下一页"/>
			</lastPageCondition>
		</subItemList>
	</CatTask>
	<PrdTask processType="genbpt">
		<baseBrowseTask taskName="prd" isStart="false" enableJS="false" taskNumPerJob="10" mbMemoryNeeded="512" dsm="hbase">
			<startUrl value="http://lianhuanhua.mom001.com/mz/2014/0805/12215.html"/>
			<userAttribute name="bookpageurls">
				<value value="//div[@id='t_photo']/img" toType="externalList" toEntryType="string"/>
			</userAttribute>
			<idUrlMapping>
				<Token name="prefix" value="http://lianhuanhua.mom001.com/" type="string"/>
				<Token name="id" value="[\/a-zA-Z0-9]+" type="regexp"/>
				<Token name="suffix" value=".html" type="string"/>
			</idUrlMapping>
			<itemName value="//div[@id='con_1']/div[last()]/img/@alt" basePage="startPage"/>
		</baseBrowseTask>
		<firstPageClickStream>
			<link>
				<nextpage>
					<successNextPage name="firstPage">
						<value value="//div[@id=&apos;con_1&apos;]/div[last()]/a" toType="page">
							<pageVerify operator="!=">
								<lhs value="//span[@id='total']"/>
								<rhs value="null"/>
							</pageVerify>
							<pageVerify operator="!=">
								<lhs value="//div[@id='t_photo']/img"/>
								<rhs value="null"/>
							</pageVerify>
						</value>
					</successNextPage>
				</nextpage>
			</link>
		</firstPageClickStream>
		<totalPage value="//span[@id='total']" basePage="firstPage">
			<strPreprocess trimPre="/" trimPost=")"/>
		</totalPage>
		<nextPage value="//div[@id='ecbNext']/div[1]/@onclick"/>
	</PrdTask>
</Tasks>
