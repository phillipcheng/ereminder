<?xml version="1.0" encoding="UTF-8"?>
<!-- 编辑使用 XMLSpy v2006 U (http://www.altova.com) 由 any (any) -->
<!-- 编辑使用 XMLSpy v2006 U (http://www.altova.com) 由 any (any) -->
<Tasks xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="C:\mydoc\myprojects\ereminder\Reminder\modules\shopping\src\main\resources\Task_2_0.xsd" rootVolume="999990" storeId="szse-stock-basic" productType="default">
	<CatTask isLeaf="true" pagesPerBDT="0">
		<baseBrowseTask enableJS="true" startUrl="http://www.szse.cn/main/marketdata/jypz/colist/">
			<userAttribute name="currentPageNum">
				<value value="//form[@name='frmtab1']/table[last()]/tbody/tr/td/text()">
					<strPreprocess trimPre="第" trimPost="页"/>
				</value>
			</userAttribute>
			<idUrlMapping>
				<Token value="http://www.szse.cn/main/marketdata/jypz/colist/" name="id" type="string"/>
			</idUrlMapping>
		</baseBrowseTask>
		<subItemList nextPage="//input[@class='cls-navigate-next']">
			<itemList value="//table[@id='REPORTID_tab1']/tbody/tr[position()>1]"/>
			<taskInvokes>
				<param paramName="symbal" value="code" scope="attribute"/>
				<param paramName="periodId" value="GB0110,GB0310,GB0510,GB0710" scope="const" type="list"/>
				<param paramName="startyear" value="2010" scope="const" type="string"/>
			</taskInvokes>
			<userAttribute name="code">
				<value value="td[1]/a//text()"/>
			</userAttribute>
			<lastPageCondition lhs="$currentPageNum" rhs="$totalPageNum" operator="="/>
		</subItemList>
		<totalPageNum value="//form[@name='frmtab1']/table[last()]/tbody/tr/td/text()">
			<strPreprocess trimPre="共" trimPost="页"/>
		</totalPageNum>
	</CatTask>
	<PrdTask processType="genbpt">
		<baseBrowseTask startUrl="http://xbrl.cninfo.com.cn/XBRL/allinfo.jsp?stkid=[symbal]&amp;getyear=[startyear]&amp;reportType=[periodId]" enableJS="true" taskName="szsePrd">
			<param name="symbal" type="string"/>
			<param name="periodId" type="list"/>
			<param name="startyear" type="string"/>
			<userAttribute name="basic">
				<value value="/html/body/table[2]/tbody/tr[2]/td[2]/table[1]/tbody/tr/td/table[2]//a" toType="page"/>
			</userAttribute>
			<userAttribute name="tabs">
				<value value="/html/body/table[2]/tbody/tr[2]/td[2]/table[1]/tbody/tr/td/table[position()>2]//a" toType="pagelist"/>
			</userAttribute>
			<userAttribute name="basicInfo">
				<value value="/html/body/form//table[@class='tbl']/tbody/tr[count(td)=2]/td//text()" basePage="basic" toType="list"/>
			</userAttribute>
			<userAttribute name="otherinfo">
				<value value="//table[@class='tbl']/tbody/tr[count(td)=6]/td//text()" basePage="tabs" toType="list"/>
			</userAttribute>
			<idUrlMapping>
				<Token value="http://xbrl.cninfo.com.cn/XBRL/allinfo.jsp?stkid=" name="prefix" type="string"/>
				<Token value=".*" name="id" type="regexp"/>
			</idUrlMapping>
		</baseBrowseTask>
	</PrdTask>
</Tasks>
