<?xml version="1.0" encoding="UTF-8"?>
<!-- 编辑使用 XMLSpy v2006 U (http://www.altova.com) 由 any (any) -->
<!-- 编辑使用 XMLSpy v2006 U (http://www.altova.com) 由 any (any) -->
<Tasks xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="C:\mydoc\myprojects\ereminder\Reminder\modules\shopping\src\main\resources\Task_2_0.xsd" rootVolume="999990" storeId="club" productType="default">
	<PrdTask>
		<baseBrowseTask enableJS="true" taskName="fullList" isStart="true">
			<startUrl value="https://sls.com.au/club_directory/"/>
			<userAttribute name="detailPages">
				<value toType="pagelist" value="(//div[@class='cd-entity cd-entity-state']|//div[@class='cd-entity cd-entity-branch']|//div[@class='cd-entity cd-entity-under-branch'])/span[1]" returnParent="true">
					<pageVerify operator="!=">
						<lhs value="//div[@id='cd-detail']/div[@id='cd-name']"/>
						<rhs value="null"/>
					</pageVerify>
				</value>
			</userAttribute>
			<idUrlMapping>
				<Token value="https://sls.com.au/club_directory/" name="id" type="string"/>
			</idUrlMapping>
			<csvtransform transformClass="org.cld.etl.csv.CrawlItemNoListAsCSV"/>
			<nextTask>
				<invokeTask toCallTaskName="details">
					<param paramName="detailPages"/>
				</invokeTask>
			</nextTask>
		</baseBrowseTask>
		<firstPageClickStream>
			<link>
				<nextpage>
					<successNextPage name="fullList">
						<value value="//button[@id='btn-cd-search']">
							<pageVerify operator="!=">
								<lhs value="//div[@id='cd-list']/div[@class='cd-entity cd-entity-under-branch']"/>
								<rhs value="null"/>
							</pageVerify>
						</value>
					</successNextPage>
				</nextpage>
			</link>
		</firstPageClickStream>
	</PrdTask>
	<PrdTask>
		<baseBrowseTask enableJS="true" taskName="details">
			<param name="detailPages" type="list"/>
			<startUrl value="detailPages"/>
			<userAttribute name="id">
				<value toType="string" value="//div[@id='cd-name']"/>
			</userAttribute>
			<userAttribute name="parentOrg">
				<value toType="string" value="//div[@id='cd-parent']/span[2]"/>
			</userAttribute>
			<userAttribute name="officephone">
				<value toType="string" value="//div[@id='cd-phone']/span[2]"/>
			</userAttribute>
			<userAttribute name="officefax">
				<value toType="string" value="//div[@id='cd-fax']/span[2]"/>
			</userAttribute>
			<userAttribute name="email">
				<value toType="string" value="//div[@id='cd-email']/span[2]/a"/>
			</userAttribute>
			<userAttribute name="website">
				<value toType="string" value="//div[@id='cd-website']/span[2]/a"/>
			</userAttribute>
			<userAttribute name="address">
				<value toType="string" value="//div[@id='cd-address']/span[2]"/>
			</userAttribute>
			<userAttribute name="subburb">
				<value toType="string" value="//div[@id='cd-subburb']/span[2]"/>
			</userAttribute>
			<userAttribute name="state">
				<value toType="string" value="//div[@id='cd-state']/span[2]"/>
			</userAttribute>
			<userAttribute name="postcode">
				<value toType="string" value="//div[@id='cd-postcode']/span[2]"/>
			</userAttribute>
			<userAttribute name="beach">
				<value toType="string" value="//div[@id='cd-beach']/span[2]/a"/>
			</userAttribute>
			<csvtransform transformClass="org.cld.etl.csv.CrawlItemNoListAsCSV"/>
		</baseBrowseTask>
	</PrdTask>
</Tasks>
