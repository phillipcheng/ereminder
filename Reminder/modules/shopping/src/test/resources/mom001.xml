<?xml version="1.0" encoding="UTF-8"?>
<Tasks xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="C:\mydoc\myprojects\ereminder\Reminder\modules\shopping\src\main\resources\Task_2_0.xsd" storeId="mom001" rootVolume="999999">
	<CatTask isLeaf="false">
		<baseBrowseTask taskName="cat-0" isStart="true" enableJS="false" startUrl="http://lianhuanhua.mom001.com/">
			<userAttribute name="referer">
				<value fromType="string" value="http://lianhuanhua.mom001.com/"/>
			</userAttribute>
			<idUrlMapping>
				<Token name="prefix" value="http://lianhuanhua."/>
				<Token name="id" value="mom001"/>
				<Token name="suffix" value=".com/"/>
			</idUrlMapping>
			<itemName value="mom001"/>
		</baseBrowseTask>
		<subItemList isLeaf="true">
			<itemList value="//div[@class=&apos;sub-menu&apos;]/ul/li/a[not(contains(@href,&apos;.html&apos;))]"/>
			<name value="./text()"/>
		</subItemList>
		<totalPageNum value="1"/>
	</CatTask>
	<CatTask isLeaf="true">
		<baseBrowseTask taskName="cat-1" enableJS="false" startUrl="http://lianhuanhua.mom001.com/mz/">
			<idUrlMapping>
				<Token name="prefix" value="http://lianhuanhua.mom001.com/" type="string"/>
				<Token name="id" value="[a-zA-Z0-9]+" type="regexp"/>
				<Token name="sep1" value="/" type="string"/>
				<Token name="id2" value="[0-9]+" type="regexp"/>
				<Token name="sep2" value="_" type="string"/>
				<Token name="pageNum" value="[0-9]+" type="regexp"/>
				<Token name="suffix" value=".html" type="string"/>
			</idUrlMapping>
			<idUrlMappingFirstPage>
				<Token name="prefix" value="http://lianhuanhua.mom001.com/" type="string"/>
				<Token name="id" value="[a-zA-Z0-9]+" type="regexp"/>
				<Token name="suffix" value="/" type="string"/>
			</idUrlMappingFirstPage>
		</baseBrowseTask>
		<subItemList nextPage="//div[@class=&apos;pagebox&apos;]/span[last()]/a">
			<itemList value="//div[@class=&apos;mainC&apos;]/ul[@class=&apos;tw_3&apos;]/li/a[1]"/>
		</subItemList>
	</CatTask>
	<PrdTask nextPage="//div[@id='ecbNext']/div[1]/@onclick">
		<baseBrowseTask taskName="prd" isStart="false" enableJS="false" startUrl="http://lianhuanhua.mom001.com/mz/2014/0805/12215.html">
			<userAttribute name="bookpageurls">
				<value value="//div[@id='t_photo']/img" toType="externalList" toEntryType="string"/>
			</userAttribute>
			<idUrlMapping>
				<Token name="prefix" value="http://lianhuanhua.mom001.com/" type="string"/>
				<Token name="id" value="[\/a-zA-Z0-9]+" type="regexp"/>
				<Token name="suffix" value=".html" type="string"/>
			</idUrlMapping>
			<itemName value="//div[@id='con_1']/div[last()]/img/@alt" basePage="startPage"/>
		</baseBrowseTask>
		<firstPageClickStream>
			<link>
				<nextpage name="firstPage">
					<value value="//div[@id=&apos;con_1&apos;]/div[last()]/a" toType="page">
						<sampleUrl>http://lianhuanhua.mom001.com/showphoto/12215/0.html</sampleUrl>
					</value>
				</nextpage>
			</link>
		</firstPageClickStream>
		<totalPage value="//span[@id=&apos;total&apos;]" basePage="firstPage">
			<strPreprocess trimPre="/" trimPost=")"/>
		</totalPage>
	</PrdTask>
</Tasks>
